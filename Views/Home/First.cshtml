
@{
    ViewData["Title"] = "First";
}

<h1>First Ajax Demo</h1>

<button id="buttonStart" class="btn btn-primary">Ajax 開始</button>
<div id="div1"></div>

@section Scripts {
    <script>
        const btn = document.querySelector('#buttonStart');
        const myDiv = document.querySelector('#div1');
        btn.addEventListener('click', () => {
           
            //ajax 程式

          console.log(fetch('/api/index'));

            fetch('/api/index')
                .then(response => {
                    console.log(response);
                    return response.text();
                })
                .then(data => {                  
                    myDiv.innerHTML = `<h2>${data}</h2>`;
                })
           
        })
    </script>
}

@section Styles{
    <style>

    </style>
}